#N canvas 0 23 1280 755 12;
#X declare -lib cyclone;
#X msg 7 46 \; pd dsp \$1;
#X obj 7 21 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 621 572 hsl 128 15 0.01 4 1 1 empty empty empty -2 -8 0 10 -262144
-1 -1 8100 1;
#X obj 720 72 hsl 128 15 0 1 0 0 empty fb empty -2 -8 0 10 -262144
-1 -1 12065 1;
#N canvas 0 23 1280 751 out~ 0;
#X obj 483 425 *~;
#X msg 701 337 \$1 50;
#X obj 701 361 line~;
#X obj 568 423 *~;
#X obj 483 449 outlet~;
#X obj 568 447 outlet~;
#X obj 485 126 inlet~;
#X obj 570 127 inlet~;
#X obj 701 308 inlet;
#X obj 484 264 *~;
#X obj 569 265 *~;
#X obj 702 137 r numVoices;
#X obj 702 161 sqrt;
#X obj 702 185 !/ 1;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 2 0 0 1;
#X connect 3 0 5 0;
#X connect 6 0 9 0;
#X connect 7 0 10 0;
#X connect 8 0 1 0;
#X connect 9 0 0 0;
#X connect 10 0 3 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 10 1;
#X connect 13 0 9 1;
#X restore 565 594 pd out~;
#X f 8;
#X obj 565 620 dac~ 1 2;
#X text 748 51 feedback;
#X text 858 47 dampening freq;
#X obj 866 71 hsl 128 15 0 1 0 0 empty damp empty -2 -8 0 10 -262144
-1 -1 9525 1;
#X obj 528 78 !/ 1000;
#X obj 344 86 hsl 128 15 -1 1 0 1 empty pickup2 empty -2 -8 0 10 -262144
-1 -1 12700 1;
#X obj 298 67 hsl 128 15 -1 1 0 1 empty pickup1 empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text 292 45 pickup positions left & right;
#X obj 803 632 else/vu~;
#X obj 804 504 vu 15 120 empty empty -1 -8 0 10 -66577 -1 1 0;
#X obj 872 631 else/vu~;
#X obj 873 504 vu 15 120 empty empty -1 -8 0 10 -66577 -1 1 0;
#X obj 6 92 loadbang;
#X obj 1048 69 s cleardelay;
#X obj 1048 48 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 295 111 pak f f;
#X msg 295 135 all pickup \$1 \$2;
#X obj 295 159 s snaar-voice;
#X obj 779 470 r snaar-voice;
#X msg 863 91 all damp \$1;
#X msg 717 92 all feedback \$1;
#X msg 627 288 devices;
#X msg 628 264 close;
#X floatatom 627 590 5 0 0 0 - - -;
#X msg 565 264 open 1;
#X floatatom 528 49 5 0 0 0 - f0 -;
#X text 573 46 base freq (Hz);
#X obj 565 316 comport 1 115200;
#N canvas 0 23 1280 755 mpu_to_sig 0;
#X obj 483 245 sig~;
#X floatatom 529 343 5 0 0 0 - - -;
#X floatatom 550 370 5 0 0 0 - - -;
#X obj 620 240 max;
#X obj 665 239 f;
#X msg 636 218 0;
#X floatatom 620 264 5 0 0 0 - - -;
#X obj 483 273 clip~ 0 1;
#X obj 483 211 / 250;
#X obj 483 545 outlet~;
#X obj 483 175 inlet;
#X obj 553 451 *~ 0.05;
#X obj 553 475 +~ 0.95;
#X obj 553 426 noise~;
#X obj 483 395 slide~ 7 7;
#X obj 483 368 hip~ 20;
#X obj 483 510 *~;
#X connect 0 0 7 0;
#X connect 1 0 15 1;
#X connect 2 0 14 2;
#X connect 2 0 14 1;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 7 0 15 0;
#X connect 8 0 0 0;
#X connect 8 0 3 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 16 1;
#X connect 13 0 11 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 16 0 9 0;
#X restore 565 369 pd mpu_to_sig;
#X obj 565 420 *~;
#X obj 458 421 hsl 100 15 0.01 1 1 1 empty empty empty -2 -8 0 10 -262144
-1 -1 4600 1;
#X floatatom 750 423 5 0 0 0 - - -;
#X obj 750 448 osc~;
#X obj 717 116 s snaar-voice;
#X msg 528 102 all delay \$1;
#X obj 528 126 s snaar-voice;
#X msg 6 118 \; pickup1 -1 \; pickup2 1 \; f0 60 \; fb 0.95 \; damp
0.75 \; numVoices 10 \;;
#X obj 750 399 loadmess 0.1;
#X obj 565 494 clone snaar-voice 10, f 31;
#N canvas 0 23 1280 755 interaction 0;
#X obj 550 343 clip~ 0 1;
#X obj 925 345 scope~ 130 130 256 3 128 0 1 0 0 0 0 205 229 232 74
79 77 96 98 102 0;
#X obj 550 375 delwrite~ interact-fb 250;
#X obj 710 267 delread~ interact-fb;
#N canvas 0 23 1280 755 mod-f0 0;
#X obj 874 331 random 1000;
#X obj 682 127 inlet~;
#X obj 686 324 random 1000;
#X obj 697 418 s f0;
#X obj 682 171 threshold~ 0.8 1000 0.15 1000;
#X obj 682 195 i;
#X obj 725 196 + 1;
#X obj 682 219 % 3;
#X obj 682 243 == 0;
#X obj 682 267 sel 0 1;
#X obj 686 348 scale 0 1000 50 100;
#X obj 874 355 scale 0 1000 100 500 0.8;
#X obj 894 263 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 11 0;
#X connect 1 0 4 0;
#X connect 2 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 9 1 0 0;
#X connect 10 0 3 0;
#X connect 11 0 3 0;
#X connect 12 0 0 0;
#X restore 735 374 pd mod-f0;
#X msg 824 317 clear;
#X obj 710 243 loadmess 50;
#X obj 550 303 slide~ 400 400;
#X obj 710 316 *~ 0.995;
#X obj 710 291 slide~ 100 400;
#X obj 550 271 inlet~;
#X obj 474 375 outlet~;
#X text 488 201 Simple buffer with filter & feedback to track amount
of interaction over time;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 0 0 4 0;
#X connect 0 0 11 0;
#X connect 3 0 9 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 8 0;
#X connect 10 0 7 0;
#X restore 636 451 pd interaction;
#N canvas 0 23 1280 755 parse_serial 0;
#X obj 614 187 sel 255;
#X obj 660 251 i;
#X obj 696 251 + 1;
#X obj 582 161 t f f;
#X obj 660 212 t b;
#X msg 614 213 0;
#X obj 582 136 inlet;
#X obj 582 390 +;
#X obj 582 498 outlet;
#X obj 582 344 * 100;
#X obj 582 414 * 2;
#X obj 536 317 gate 2, f 7;
#X obj 582 466 / 50;
#X obj 582 442 - 12500;
#X connect 0 0 5 0;
#X connect 0 1 4 0;
#X connect 1 0 2 0;
#X connect 1 0 11 0;
#X connect 2 0 1 1;
#X connect 3 0 11 1;
#X connect 3 1 0 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 3 0;
#X connect 7 0 10 0;
#X connect 9 0 7 0;
#X connect 10 0 13 0;
#X connect 11 0 7 1;
#X connect 11 1 9 0;
#X connect 12 0 8 0;
#X connect 13 0 12 0;
#X restore 565 340 pd parse_serial;
#X obj 5 224 declare -lib cyclone;
#N canvas 0 23 1280 755 README 0;
#X text 905 54 Some notes on the interaction:;
#X text 4 6 TouwSnaarVeer \; Olaf Wisselink \; Media Technology \;
Sound \, Space & Interaction \; April 2020, f 34;
#X text 5 113 This Pure Data patch uses the following libraries \;
- cyclone \; - else \; - comport \;;
#X msg 321 492 pluck position;
#X msg 996 507 feedback;
#X msg 792 502 damping;
#X msg 295 391 mpu as signal input to string model;
#X msg 295 538 earlyreflections 1 & 2;
#X msg 294 607 latereflections 1 & 2;
#X msg 294 638 out 1 & 2;
#X msg 867 507 pickup pos 1 & 2;
#X text 204 569 string model;
#X text 854 78 The amount of interaction is represented as a signal
\, integrating the mpu sensor values over time \; Amount of interaction
over time modulates multiple parameters of the string differenty \,
based on thresholds \; - base frequency of string \; - frequency offset
per string voice \; - pickup position variation \; - amount of damping
\; - Pluck position: for now this is modulated by a static lfo. This
could change when I add a second mpu sensor to the physical setup.
Then both sensors left and right will sense the physical pluck position
and therefore determine the early reflections \;, f 43;
#X msg 295 340 mpu6500 gyroscope attached to rope;
#X text 255 316 Schematic representation of the entire system;
#X msg 559 500 delaytime (string frequency);
#X msg 792 454 interaction model;
#X msg 295 364 arduino to puredata;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 16 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 8 0;
#X connect 13 0 17 0;
#X connect 15 0 7 0;
#X connect 15 0 8 0;
#X connect 16 0 15 0;
#X connect 16 0 5 0;
#X connect 16 0 10 0;
#X connect 17 0 6 0;
#X restore 5 247 pd README;
#X connect 1 0 0 0;
#X connect 2 0 4 2;
#X connect 2 0 28 0;
#X connect 3 0 25 0;
#X connect 4 0 13 0;
#X connect 4 0 5 0;
#X connect 4 1 15 0;
#X connect 4 1 5 1;
#X connect 8 0 24 0;
#X connect 9 0 39 0;
#X connect 10 0 20 1;
#X connect 11 0 20 0;
#X connect 13 0 14 0;
#X connect 15 0 16 0;
#X connect 17 0 41 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 23 0 43 3;
#X connect 24 0 38 0;
#X connect 25 0 38 0;
#X connect 26 0 32 0;
#X connect 27 0 32 0;
#X connect 29 0 32 0;
#X connect 30 0 9 0;
#X connect 32 0 45 0;
#X connect 33 0 34 0;
#X connect 33 0 44 0;
#X connect 34 0 43 0;
#X connect 35 0 34 1;
#X connect 36 0 37 0;
#X connect 37 0 43 2;
#X connect 39 0 40 0;
#X connect 42 0 36 0;
#X connect 43 0 4 0;
#X connect 43 1 4 1;
#X connect 44 0 43 1;
#X connect 45 0 33 0;
